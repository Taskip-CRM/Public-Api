# Support Ticket Management API

The Support Ticket Management API allows you to manage customer support tickets in your TaskIP CRM system. You can create, read, update, and delete tickets, manage ticket assignments, handle attachments, and track ticket resolution workflow.

## Endpoints Overview

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/api/public-v1/ticket` | Get all support tickets |
| `POST` | `/api/public-v1/ticket` | Create a new support ticket |
| `GET` | `/api/public-v1/ticket/{id}` | Get a specific support ticket |
| `PUT` | `/api/public-v1/ticket/{id}` | Update a support ticket |
| `DELETE` | `/api/public-v1/ticket/{id}` | Delete a support ticket |
| `POST` | `/api/public-v1/ticket/{id}/assign` | Assign ticket to team member |
| `POST` | `/api/public-v1/ticket/{id}/status-update` | Update ticket status |
| `POST` | `/api/public-v1/ticket/{id}/add-reply` | Add reply to ticket |
| `POST` | `/api/public-v1/ticket/{id}/attachments` | Upload ticket attachments |
| `GET` | `/api/public-v1/ticket/{id}/attachments` | Get ticket attachments |
| `POST` | `/api/public-v1/ticket/bulk-actions` | Perform bulk operations |
| `GET` | `/api/public-v1/ticket/analytics` | Get ticket analytics |

---

## Get All Support Tickets

Retrieve a list of all support tickets in your system.

```http
GET /api/public-v1/ticket
```

### Request Headers
```http
X-Secret-Key: your-secret-key-here
Content-Type: application/json
```

### Query Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `page` | integer | No | Page number for pagination (default: 1) |
| `limit` | integer | No | Number of tickets per page (default: 50) |
| `search` | string | No | Search term for ticket title or description |
| `sort` | string | No | Sort field (`created_at`, `updated_at`, `priority`, `status`) |
| `order` | string | No | Sort order (`asc` or `desc`) |
| `status` | string | No | Filter by status (`open`, `in_progress`, `resolved`, `closed`) |
| `priority` | string | No | Filter by priority (`low`, `medium`, `high`, `urgent`) |
| `assigned_to` | integer | No | Filter by assigned team member ID |
| `client_id` | integer | No | Filter by client ID |
| `category` | string | No | Filter by ticket category |
| `date_from` | string | No | Filter tickets from date (YYYY-MM-DD) |
| `date_to` | string | No | Filter tickets to date (YYYY-MM-DD) |

### Example Request

```bash
curl -X GET "https://public-api.taskip.net/api/public-v1/ticket?page=1&limit=20&status=open&priority=high" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json"
```

### JavaScript Example
```javascript
const response = await fetch('https://public-api.taskip.net/api/public-v1/ticket?page=1&limit=20', {
  method: 'GET',
  headers: {
    'X-Secret-Key': 'your-secret-key-here',
    'Content-Type': 'application/json'
  }
});

const tickets = await response.json();
```

### Example Response

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "ticket_number": "TKT-2024-001",
      "title": "Login Issues with Dashboard",
      "description": "User cannot access dashboard after password reset",
      "client_id": 15,
      "client_name": "John Smith",
      "client_email": "john@acme.com",
      "category": "Technical Support",
      "priority": "high",
      "status": "open",
      "assigned_to": 5,
      "assigned_to_name": "Sarah Johnson",
      "created_by": "system",
      "resolution_notes": null,
      "estimated_resolution_time": "2024-01-16T10:00:00Z",
      "actual_resolution_time": null,
      "tags": ["login", "dashboard", "urgent"],
      "reply_count": 3,
      "attachment_count": 1,
      "created_at": "2024-01-15T09:30:00Z",
      "updated_at": "2024-01-15T14:20:00Z"
    },
    {
      "id": 2,
      "ticket_number": "TKT-2024-002",
      "title": "Feature Request: Export Functionality",
      "description": "Request to add CSV export feature to reports",
      "client_id": 22,
      "client_name": "Mike Wilson",
      "client_email": "mike@techcorp.com",
      "category": "Feature Request",
      "priority": "medium",
      "status": "in_progress",
      "assigned_to": 8,
      "assigned_to_name": "David Chen",
      "created_by": "client_portal",
      "resolution_notes": null,
      "estimated_resolution_time": "2024-01-20T16:00:00Z",
      "actual_resolution_time": null,
      "tags": ["feature", "export", "reports"],
      "reply_count": 2,
      "attachment_count": 0,
      "created_at": "2024-01-14T11:15:00Z",
      "updated_at": "2024-01-15T09:45:00Z"
    }
  ],
  "meta": {
    "current_page": 1,
    "per_page": 20,
    "total": 45,
    "total_pages": 3,
    "summary": {
      "open": 15,
      "in_progress": 12,
      "resolved": 8,
      "closed": 10
    }
  }
}
```

---

## Create a Support Ticket

Create a new support ticket in your system.

```http
POST /api/public-v1/ticket
```

### Request Headers
```http
X-Secret-Key: your-secret-key-here
Content-Type: application/json
```

### Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `title` | string | Yes | Ticket title/subject |
| `description` | string | Yes | Detailed description of the issue |
| `client_id` | integer | Yes | Client ID who reported the ticket |
| `category` | string | Yes | Ticket category |
| `priority` | string | No | Priority level (`low`, `medium`, `high`, `urgent`) |
| `assigned_to` | integer | No | Team member ID to assign the ticket |
| `tags` | array | No | Array of tags for categorization |
| `estimated_resolution_time` | string | No | Estimated resolution datetime (ISO 8601) |
| `custom_fields` | object | No | Custom field values |
| `notify_client` | boolean | No | Send notification to client (default: true) |

### Example Request

```bash
curl -X POST "https://public-api.taskip.net/api/public-v1/ticket" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Email Notifications Not Working",
    "description": "Customer reports that email notifications for new orders are not being received. This started happening 2 days ago.",
    "client_id": 18,
    "category": "Technical Support",
    "priority": "high",
    "assigned_to": 5,
    "tags": ["email", "notifications", "orders"],
    "estimated_resolution_time": "2024-01-17T12:00:00Z",
    "notify_client": true
  }'
```

### Python Example
```python
import requests

headers = {
    'X-Secret-Key': 'your-secret-key-here',
    'Content-Type': 'application/json'
}

ticket_data = {
    "title": "Email Notifications Not Working",
    "description": "Customer reports that email notifications for new orders are not being received. This started happening 2 days ago.",
    "client_id": 18,
    "category": "Technical Support",
    "priority": "high",
    "assigned_to": 5,
    "tags": ["email", "notifications", "orders"],
    "estimated_resolution_time": "2024-01-17T12:00:00Z",
    "notify_client": True
}

response = requests.post(
    'https://public-api.taskip.net/api/public-v1/ticket',
    headers=headers,
    json=ticket_data
)

result = response.json()
```

### Example Response

```json
{
  "success": true,
  "message": "Support ticket created successfully",
  "data": {
    "id": 46,
    "ticket_number": "TKT-2024-046",
    "title": "Email Notifications Not Working",
    "description": "Customer reports that email notifications for new orders are not being received. This started happening 2 days ago.",
    "client_id": 18,
    "client_name": "Emma Davis",
    "client_email": "emma@startup.com",
    "category": "Technical Support",
    "priority": "high",
    "status": "open",
    "assigned_to": 5,
    "assigned_to_name": "Sarah Johnson",
    "created_by": "api",
    "resolution_notes": null,
    "estimated_resolution_time": "2024-01-17T12:00:00Z",
    "actual_resolution_time": null,
    "tags": ["email", "notifications", "orders"],
    "reply_count": 0,
    "attachment_count": 0,
    "created_at": "2024-01-16T10:30:00Z",
    "updated_at": "2024-01-16T10:30:00Z"
  }
}
```

---

## Get a Specific Support Ticket

Retrieve details of a specific support ticket by ID.

```http
GET /api/public-v1/ticket/{id}
```

### Path Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | integer | Yes | Ticket ID |

### Example Request

```bash
curl -X GET "https://public-api.taskip.net/api/public-v1/ticket/46" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json"
```

### Example Response

```json
{
  "success": true,
  "data": {
    "id": 46,
    "ticket_number": "TKT-2024-046",
    "title": "Email Notifications Not Working",
    "description": "Customer reports that email notifications for new orders are not being received. This started happening 2 days ago.",
    "client_id": 18,
    "client": {
      "id": 18,
      "name": "Emma Davis",
      "email": "emma@startup.com",
      "phone": "+1-555-0103",
      "company": "StartupTech Inc"
    },
    "category": "Technical Support",
    "priority": "high",
    "status": "open",
    "assigned_to": 5,
    "assigned_team_member": {
      "id": 5,
      "name": "Sarah Johnson",
      "email": "sarah@company.com",
      "department": "Technical Support"
    },
    "created_by": "api",
    "resolution_notes": null,
    "estimated_resolution_time": "2024-01-17T12:00:00Z",
    "actual_resolution_time": null,
    "tags": ["email", "notifications", "orders"],
    "custom_fields": {
      "severity": "critical",
      "affected_systems": ["email_service", "order_processing"]
    },
    "replies": [
      {
        "id": 101,
        "message": "Thank you for reporting this issue. We are investigating the email notification system.",
        "author": "Sarah Johnson",
        "author_type": "team_member",
        "created_at": "2024-01-16T11:00:00Z"
      },
      {
        "id": 102,
        "message": "We have identified the issue and are working on a fix.",
        "author": "Sarah Johnson",
        "author_type": "team_member",
        "created_at": "2024-01-16T14:30:00Z"
      }
    ],
    "attachments": [
      {
        "id": 25,
        "filename": "error_logs.txt",
        "file_size": 15420,
        "mime_type": "text/plain",
        "uploaded_by": "Emma Davis",
        "uploaded_at": "2024-01-16T10:35:00Z"
      }
    ],
    "activity_log": [
      {
        "action": "created",
        "user": "API User",
        "timestamp": "2024-01-16T10:30:00Z"
      },
      {
        "action": "assigned",
        "user": "System",
        "details": "Assigned to Sarah Johnson",
        "timestamp": "2024-01-16T10:30:00Z"
      }
    ],
    "reply_count": 2,
    "attachment_count": 1,
    "created_at": "2024-01-16T10:30:00Z",
    "updated_at": "2024-01-16T14:30:00Z"
  }
}
```

---

## Update a Support Ticket

Update an existing support ticket's information.

```http
PUT /api/public-v1/ticket/{id}
```

### Path Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | integer | Yes | Ticket ID to update |

### Request Body
Same fields as create ticket. All fields are optional - only include fields you want to update.

### Example Request

```bash
curl -X PUT "https://public-api.taskip.net/api/public-v1/ticket/46" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "priority": "urgent",
    "estimated_resolution_time": "2024-01-16T16:00:00Z",
    "tags": ["email", "notifications", "orders", "critical"]
  }'
```

### Example Response

```json
{
  "success": true,
  "message": "Support ticket updated successfully",
  "data": {
    "id": 46,
    "ticket_number": "TKT-2024-046",
    "title": "Email Notifications Not Working",
    "priority": "urgent",
    "status": "open",
    "estimated_resolution_time": "2024-01-16T16:00:00Z",
    "tags": ["email", "notifications", "orders", "critical"],
    "created_at": "2024-01-16T10:30:00Z",
    "updated_at": "2024-01-16T15:45:00Z"
  }
}
```

---

## Delete a Support Ticket

Delete a specific support ticket from your system.

```http
DELETE /api/public-v1/ticket/{id}
```

### Path Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | integer | Yes | Ticket ID to delete |


<Callout type="warning" emoji="⚠️">
  **Warning**: Deleting a support ticket will permanently remove it and all associated replies, attachments, and activity history. This action cannot be undone.
</Callout>

### Example Request

```bash
curl -X DELETE "https://public-api.taskip.net/api/public-v1/ticket/46" \
  -H "X-Secret-Key: your-secret-key-here"
```

### Example Response

```json
{
  "success": true,
  "message": "Support ticket deleted successfully",
  "data": {
    "deleted_ticket_id": 46,
    "ticket_number": "TKT-2024-046",
    "associated_replies_deleted": 2,
    "associated_attachments_deleted": 1
  }
}
```

---

## Assign Ticket to Team Member

Assign or reassign a support ticket to a team member.

```http
POST /api/public-v1/ticket/{id}/assign
```

### Path Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | integer | Yes | Ticket ID to assign |

### Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `assigned_to` | integer | Yes | Team member ID to assign the ticket |
| `reason` | string | No | Reason for assignment/reassignment |
| `notify_assignee` | boolean | No | Send notification to assignee (default: true) |

### Example Request

```bash
curl -X POST "https://public-api.taskip.net/api/public-v1/ticket/45/assign" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "assigned_to": 8,
    "reason": "Reassigning to specialist for email server issues",
    "notify_assignee": true
  }'
```

### Example Response

```json
{
  "success": true,
  "message": "Ticket assigned successfully",
  "data": {
    "ticket_id": 45,
    "previous_assignee": "Sarah Johnson",
    "new_assignee": "David Chen",
    "assigned_at": "2024-01-16T16:00:00Z",
    "reason": "Reassigning to specialist for email server issues"
  }
}
```

---

## Update Ticket Status

Update the status of a support ticket.

```http
POST /api/public-v1/ticket/{id}/status-update
```

### Path Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | integer | Yes | Ticket ID |

### Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `status` | string | Yes | New status (`open`, `in_progress`, `resolved`, `closed`) |
| `resolution_notes` | string | No | Resolution notes (required for `resolved` status) |
| `notify_client` | boolean | No | Send status update notification to client |

### Example Request

```bash
curl -X POST "https://public-api.taskip.net/api/public-v1/ticket/45/status-update" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "status": "resolved",
    "resolution_notes": "Email notification system has been fixed. All services are now working properly.",
    "notify_client": true
  }'
```

### Example Response

```json
{
  "success": true,
  "message": "Ticket status updated successfully",
  "data": {
    "ticket_id": 45,
    "old_status": "in_progress",
    "new_status": "resolved",
    "resolution_notes": "Email notification system has been fixed. All services are now working properly.",
    "actual_resolution_time": "2024-01-16T18:30:00Z",
    "updated_at": "2024-01-16T18:30:00Z"
  }
}
```

---

## Add Reply to Ticket

Add a reply/comment to a support ticket.

```http
POST /api/public-v1/ticket/{id}/add-reply
```

### Path Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | integer | Yes | Ticket ID |

### Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `message` | string | Yes | Reply message content |
| `author_type` | string | No | Author type (`team_member`, `client`, `system`) |
| `is_private` | boolean | No | Private reply (not visible to client) |
| `notify_client` | boolean | No | Send notification to client |

### Example Request

```bash
curl -X POST "https://public-api.taskip.net/api/public-v1/ticket/45/add-reply" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "message": "The issue has been resolved. Please test the email notifications and let us know if you encounter any further problems.",
    "author_type": "team_member",
    "is_private": false,
    "notify_client": true
  }'
```

### JavaScript Example
```javascript
const replyData = {
  message: "The issue has been resolved. Please test the email notifications and let us know if you encounter any further problems.",
  author_type: "team_member",
  is_private: false,
  notify_client: true
};

const response = await fetch('https://public-api.taskip.net/api/public-v1/ticket/45/add-reply', {
  method: 'POST',
  headers: {
    'X-Secret-Key': 'your-secret-key-here',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(replyData)
});

const result = await response.json();
```

### Example Response

```json
{
  "success": true,
  "message": "Reply added successfully",
  "data": {
    "reply_id": 103,
    "ticket_id": 45,
    "message": "The issue has been resolved. Please test the email notifications and let us know if you encounter any further problems.",
    "author": "Sarah Johnson",
    "author_type": "team_member",
    "is_private": false,
    "created_at": "2024-01-16T18:35:00Z"
  }
}
```

---

## Upload Ticket Attachments

Upload files/attachments to a support ticket.

```http
POST /api/public-v1/ticket/{id}/attachments
```

### Path Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | integer | Yes | Ticket ID |

### Request Body (multipart/form-data)

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `files[]` | file | Yes | Files to upload (multiple files supported) |
| `description` | string | No | Description of the attachments |

### Example Request

```bash
curl -X POST "https://public-api.taskip.net/api/public-v1/ticket/45/attachments" \
  -H "X-Secret-Key: your-secret-key-here" \
  -F "files[]=@screenshot.png" \
  -F "files[]=@error_log.txt" \
  -F "description=Screenshots and error logs showing the resolved issue"
```

### Example Response

```json
{
  "success": true,
  "message": "Attachments uploaded successfully",
  "data": {
    "ticket_id": 45,
    "uploaded_files": [
      {
        "id": 26,
        "filename": "screenshot.png",
        "original_filename": "screenshot.png",
        "file_size": 245760,
        "mime_type": "image/png",
        "uploaded_at": "2024-01-16T19:00:00Z"
      },
      {
        "id": 27,
        "filename": "error_log.txt",
        "original_filename": "error_log.txt",
        "file_size": 8192,
        "mime_type": "text/plain",
        "uploaded_at": "2024-01-16T19:00:00Z"
      }
    ]
  }
}
```

---

## Get Ticket Attachments

Retrieve all attachments for a specific ticket.

```http
GET /api/public-v1/ticket/{id}/attachments
```

### Path Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | integer | Yes | Ticket ID |

### Example Request

```bash
curl -X GET "https://public-api.taskip.net/api/public-v1/ticket/45/attachments" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json"
```

### Example Response

```json
{
  "success": true,
  "data": {
    "ticket_id": 45,
    "attachments": [
      {
        "id": 25,
        "filename": "error_logs.txt",
        "original_filename": "error_logs.txt",
        "file_size": 15420,
        "mime_type": "text/plain",
        "download_url": "https://public-api.taskip.net/api/public-v1/ticket/45/attachments/25/download",
        "uploaded_by": "Emma Davis",
        "uploaded_at": "2024-01-16T10:35:00Z"
      },
      {
        "id": 26,
        "filename": "screenshot.png",
        "original_filename": "screenshot.png",
        "file_size": 245760,
        "mime_type": "image/png",
        "download_url": "https://public-api.taskip.net/api/public-v1/ticket/45/attachments/26/download",
        "uploaded_by": "Sarah Johnson",
        "uploaded_at": "2024-01-16T19:00:00Z"
      }
    ],
    "total_attachments": 2,
    "total_size": 261180
  }
}
```

---

## Bulk Actions

Perform bulk operations on multiple support tickets.

```http
POST /api/public-v1/ticket/bulk-actions
```

### Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `ticket_ids` | array | Yes | Array of ticket IDs |
| `action` | string | Yes | Action to perform (`delete`, `status_update`, `assign`, `add_tags`) |
| `parameters` | object | No | Additional parameters for the action |

#### Action-specific Parameters

**For `status_update` action:**
- `status`: New status for all tickets
- `resolution_notes`: Resolution notes (for resolved status)

**For `assign` action:**
- `assigned_to`: Team member ID to assign tickets to

**For `add_tags` action:**
- `tags`: Array of tags to add to tickets

### Example Request

```bash
curl -X POST "https://public-api.taskip.net/api/public-v1/ticket/bulk-actions" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "ticket_ids": [40, 41, 42, 43],
    "action": "assign",
    "parameters": {
      "assigned_to": 5
    }
  }'
```

### Example Response

```json
{
  "success": true,
  "message": "Bulk action completed successfully",
  "data": {
    "action": "assign",
    "processed_count": 4,
    "successful_ids": [40, 41, 42, 43],
    "failed_ids": [],
    "results": [
      {
        "ticket_id": 40,
        "status": "success",
        "message": "Assigned to Sarah Johnson"
      },
      {
        "ticket_id": 41,
        "status": "success",
        "message": "Assigned to Sarah Johnson"
      },
      {
        "ticket_id": 42,
        "status": "success",
        "message": "Assigned to Sarah Johnson"
      },
      {
        "ticket_id": 43,
        "status": "success",
        "message": "Assigned to Sarah Johnson"
      }
    ]
  }
}
```

---

## Get Ticket Analytics

Retrieve analytics and statistics for support tickets.

```http
GET /api/public-v1/ticket/analytics
```

### Query Parameters
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `period` | string | No | Time period (`day`, `week`, `month`, `year`) |
| `start_date` | string | No | Start date for analysis (YYYY-MM-DD) |
| `end_date` | string | No | End date for analysis (YYYY-MM-DD) |
| `group_by` | string | No | Group results by (`status`, `priority`, `category`, `assignee`) |

### Example Request

```bash
curl -X GET "https://public-api.taskip.net/api/public-v1/ticket/analytics?period=month&group_by=status" \
  -H "X-Secret-Key: your-secret-key-here" \
  -H "Content-Type: application/json"
```

### Example Response

```json
{
  "success": true,
  "data": {
    "period": "month",
    "start_date": "2024-01-01",
    "end_date": "2024-01-31",
    "summary": {
      "total_tickets": 125,
      "new_tickets": 45,
      "resolved_tickets": 38,
      "closed_tickets": 35,
      "average_resolution_time": "2.3 days",
      "customer_satisfaction": 4.2
    },
    "by_status": {
      "open": 25,
      "in_progress": 18,
      "resolved": 38,
      "closed": 44
    },
    "by_priority": {
      "low": 30,
      "medium": 55,
      "high": 25,
      "urgent": 15
    },
    "by_category": {
      "Technical Support": 45,
      "Feature Request": 20,
      "Bug Report": 35,
      "General Inquiry": 25
    },
    "resolution_time_trend": [
      {
        "week": "2024-W01",
        "average_hours": 48
      },
      {
        "week": "2024-W02",
        "average_hours": 36
      },
      {
        "week": "2024-W03",
        "average_hours": 42
      },
      {
        "week": "2024-W04",
        "average_hours": 38
      }
    ],
    "top_assignees": [
      {
        "assignee": "Sarah Johnson",
        "tickets_handled": 28,
        "average_resolution_time": "1.8 days"
      },
      {
        "assignee": "David Chen",
        "tickets_handled": 22,
        "average_resolution_time": "2.1 days"
      }
    ]
  }
}
```

---

## Error Responses

### Common Error Codes

| Status Code | Error Type | Description |
|-------------|------------|-------------|
| `400` | Bad Request | Invalid request data or missing required fields |
| `401` | Unauthorized | Invalid or missing X-Secret-Key |
| `404` | Not Found | Ticket not found |
| `409` | Conflict | Ticket cannot be modified in current status |
| `413` | Payload Too Large | Attachment file size exceeds limit |
| `422` | Validation Error | Request data failed validation |
| `429` | Too Many Requests | Rate limit exceeded |

### Example Error Response

```json
{
  "success": false,
  "error": "Validation Error",
  "message": "The given data was invalid",
  "errors": {
    "title": ["The title field is required."],
    "client_id": ["The selected client id is invalid."],
    "category": ["The category field is required."]
  },
  "status_code": 422
}
```

---

## Response Schemas

### Support Ticket Object

```json
{
  "id": "integer",
  "ticket_number": "string",
  "title": "string",
  "description": "string",
  "client_id": "integer",
  "client_name": "string",
  "client_email": "string",
  "category": "string",
  "priority": "string",
  "status": "string",
  "assigned_to": "integer|null",
  "assigned_to_name": "string|null",
  "created_by": "string",
  "resolution_notes": "string|null",
  "estimated_resolution_time": "string (ISO 8601)|null",
  "actual_resolution_time": "string (ISO 8601)|null",
  "tags": "array",
  "custom_fields": "object|null",
  "reply_count": "integer",
  "attachment_count": "integer",
  "created_at": "string (ISO 8601)",
  "updated_at": "string (ISO 8601)"
}
```

### Reply Object

```json
{
  "id": "integer",
  "message": "string",
  "author": "string",
  "author_type": "string",
  "is_private": "boolean",
  "created_at": "string (ISO 8601)"
}
```

### Attachment Object

```json
{
  "id": "integer",
  "filename": "string",
  "original_filename": "string",
  "file_size": "integer",
  "mime_type": "string",
  "download_url": "string",
  "uploaded_by": "string",
  "uploaded_at": "string (ISO 8601)"
}
```

---

## Best Practices

### Ticket Management
1. **Clear titles**: Use descriptive, specific titles for easy identification
2. **Detailed descriptions**: Include all relevant information in the initial description
3. **Proper categorization**: Use consistent categories for better organization
4. **Priority assignment**: Set appropriate priorities based on business impact

### Workflow Optimization
1. **Quick assignment**: Assign tickets to appropriate team members promptly
2. **Regular updates**: Keep clients informed with regular status updates
3. **Resolution tracking**: Document resolution steps for future reference
4. **Follow-up**: Ensure client satisfaction after ticket resolution

### Communication
1. **Professional replies**: Maintain professional tone in all communications
2. **Timely responses**: Respond to tickets within defined SLA timeframes
3. **Client notifications**: Keep clients informed of important updates
4. **Internal notes**: Use private replies for internal team coordination

<Callout type="info" emoji="💡">
  **Tip**: Use the analytics endpoint to identify trends in ticket volume, resolution times, and common issues. This data can help optimize your support processes and resource allocation.
</Callout>